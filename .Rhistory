data,
file = here::here("output/data_clean.rds")
)
table1 <- ss_data %>%
select(Gender, Age, Occupation, Sleep.Duration, Quality.of.Sleep) %>%
tbl_summary(
by = Occupation,
statistic = list(Quality.of.Sleep ~ "{mean} ({sd})"),
type = list(Quality.of.Sleep ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add(p)
table1 <- ss_data %>%
select(Gender, Age, Occupation, Sleep.Duration, Quality.of.Sleep) %>%
tbl_summary(
by = Occupation,
statistic = list(Quality.of.Sleep ~ "{mean} ({sd})"),
type = list(Quality.of.Sleep ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add(p) %>%
modify_header(label = "**Sleep Health and Lifestyle Characteristics - Stratified by Occupation**")
library(gtsummary)
table1 <- ss_data %>%
select(Gender, Age, Occupation, Sleep.Duration, Quality.of.Sleep) %>%
tbl_summary(
by = Occupation,
statistic = list(Quality.of.Sleep ~ "{mean} ({sd})"),
type = list(Quality.of.Sleep ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add(p) %>%
modify_header(label = "**Sleep Health and Lifestyle Characteristics - Stratified by Occupation**")
# Creating table1 with average quality of sleep stratified by Occupation
table1 <- data %>%
select(Gender, Age, Occupation, Sleep.Duration, Quality.of.Sleep) %>%
tbl_summary(
by = Occupation,
statistic = list(Quality.of.Sleep ~ "{mean} ({sd})"),
type = list(Quality.of.Sleep ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add_p() %>%
modify_header(label = "**Sleep Health and Lifestyle Characteristics - Stratified by Occupation**")
# Creating table1 with average quality of sleep stratified by Occupation
table1 <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add_p() %>%
modify_header(label = "**Sleep Health and Lifestyle Characteristics - Stratified by Occupation**")
# Print the table
table1
# Creating table1 with average quality of sleep stratified by Occupation
table1 <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add_p(simulate.p.value = TRUE) %>%
modify_header(label = "**Sleep Health and Lifestyle Characteristics - Stratified by Occupation**")
# Print the table
table1
# Creating table1 with average quality of sleep stratified by Occupation
table1 <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add_p(simulate = TRUE) %>%
modify_header(label = "**Sleep Health and Lifestyle Characteristics - Stratified by Occupation**")
# Print the table
table1
# Creating table1 with average quality of sleep stratified by Occupation
table1 <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add_p(exact = "simulate") %>%
modify_header(label = "**Sleep Health and Lifestyle Characteristics - Stratified by Occupation**")
# Print the table
table1
# Creating table1 with average quality of sleep stratified by Occupation
table1 <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
simulate.p.value=TRUE %>%
modify_header(label = "**Sleep Health and Lifestyle Characteristics - Stratified by Occupation**")
table1 <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add_p(simulate.p.value=TRUE) %>%
modify_header(label = "**Sleep Health and Lifestyle Characteristics - Stratified by Occupation**")
# Print the table
table1
source("~/OneDrive/RSPH/Spring2024/DATA550/FinalProject/code/01_make_table.R", echo=TRUE)
# Creating table1 with average quality of sleep stratified by Occupation
table1 <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
modify_header(label = "**Sleep, Health, and Lifestyle Characteristics**")
# Print the table
table1
here::i_am("code/01_make_table.R")
data <- readRDS(
file = here::here("output/data_clean.rds")
)
library(gtsummary)
# Creating table1 with average quality of sleep stratified by Occupation
table_one <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
modify_header(label = "**Sleep, Health, and Lifestyle Characteristics**")
saveRDS(
table_one,
file = here::here("output/table_one.rds")
)
library(dplyr)
library(gtsummary)
library(here)
here::i_am("code/00_clean_data.R")
absolute_path <- here::here('raw_data/ss.csv')
data <- read.csv(absolute_path, header = TRUE)
data <- data %>%
rename(
`Person ID` = Person.ID,
`Duration of Sleep` = Sleep.Duration,
`Quality of Sleep` = Quality.of.Sleep,
`Physical Activity Level` = Physical.Activity.Level,
`Stress Level` = Stress.Level,
`BMI Category` = BMI.Category,
`Heart Rate` = Heart.Rate,
`Daily Steps` = Daily.Steps,
`Sleep Disorder` = Sleep.Disorder
)
saveRDS(
data,
file = here::here("output/data_clean.rds")
)
here::i_am("code/01_make_table.R")
data <- readRDS(
file = here::here("output/data_clean.rds")
)
library(gtsummary)
# Creating table1 with average quality of sleep stratified by Occupation
table_one <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
modify_header(label = "**Sleep, Health, and Lifestyle Characteristics**")
saveRDS(
table_one,
file = here::here("output/table_one.rds")
)
# Calculate mean sleep duration by occupation
mean_sleep_by_occupation <- variables %>%
group_by(Occupation) %>%
summarise(mean_sleep = mean(Sleep.Duration, na.rm = TRUE))
# Calculate mean sleep duration by occupation
mean_sleep_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep = mean(Sleep.Duration, na.rm = TRUE))
# Calculate mean sleep duration by occupation
mean_sleep_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep = mean(`Duration of Sleep`, na.rm = TRUE))
# Create scatter plot
sd_scatter <- ggplot(mean_sleep_by_occupation, aes(x = Occupation, y = mean_sleep)) +
geom_point(color = "skyblue1", size = 3) +
labs(title = "Occupation vs Sleep Duration",
x = "Occupation",
y = "Average Sleep Duration") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) # occupations listed vertically
# Print the scatter plot
print(sd_scatter)
# | fig.align = "center"
# | out.width = "450px"
# Load necessary library
library(ggplot2)
# Calculate mean sleep duration by occupation
mean_sleep_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep = mean(`Duration of Sleep`, na.rm = TRUE))
# Create scatter plot
sd_scatter <- ggplot(mean_sleep_by_occupation, aes(x = Occupation, y = mean_sleep)) +
geom_point(color = "skyblue1", size = 3) +
labs(title = "Occupation vs Sleep Duration",
x = "Occupation",
y = "Average Sleep Duration") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) # occupations listed vertically
# Print the scatter plot
print(sd_scatter)
# Calculate mean sleep duration and mean quality of sleep by occupation
mean_sleep_quality_by_occupation <- ss_data %>%
group_by(Occupation) %>%
summarise(mean_sleep_duration = mean(`Duration of Sleep`, na.rm = TRUE),
mean_quality_sleep = mean(Quality.of.Sleep, na.rm = TRUE))
# Calculate mean sleep duration and mean quality of sleep by occupation
mean_sleep_quality_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep_duration = mean(`Duration of Sleep`, na.rm = TRUE),
mean_quality_sleep = mean(`Quality of Sleep`, na.rm = TRUE))
# Create scatter plot
sd_sq_scatter <- ggplot(mean_sleep_quality_by_occupation, aes(x = mean_sleep_duration, y = mean_quality_sleep, color = Occupation)) +
geom_point(size = 3) +
labs(title = "Occupation vs Sleep Duration and Quality of Sleep",
x = "Average Sleep Duration",
y = "Average Quality of Sleep") +
theme_minimal()
# Print the scatter plot
print(sd_sq_scatter)
library(ggplot2)
library(dplyr)
# Calculate mean sleep duration and mean quality of sleep by occupation
mean_sleep_quality_by_occupation <- ss_data %>%
group_by(Occupation) %>%
summarise(mean_sleep_duration = mean(`Duration of Sleep`, na.rm = TRUE),
mean_quality_sleep = mean(Quality.of.Sleep, na.rm = TRUE))
library(ggplot2)
library(dplyr)
# Calculate mean sleep duration and mean quality of sleep by occupation
mean_sleep_quality_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep_duration = mean(`Duration of Sleep`, na.rm = TRUE),
mean_quality_sleep = mean(`Quality of Sleep, na.rm = TRUE))
# Define color palette
my_palette <- colorRampPalette(c("white", "blue"))(n = 100)
# Create heatmap
heatmap <- ggplot(mean_sleep_quality_by_occupation, aes(x = mean_sleep_duration, y = mean_quality_sleep, fill = Occupation)) +
geom_tile() +
scale_fill_manual(values = my_palette) +
labs(title = "Heatmap of Sleep Duration and Quality by Occupation",
x = "Average Sleep Duration",
y = "Average Quality of Sleep") +
theme_minimal()
# Print the heatmap
print(heatmap)
mean_sleep_quality_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep_duration = mean(`Duration of Sleep`, na.rm = TRUE),
# Calculate mean sleep duration and mean quality of sleep by occupation
mean_sleep_quality_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep_duration = mean(`Duration of Sleep`, na.rm = TRUE),
mean_quality_sleep = mean(`Quality of Sleep`, na.rm = TRUE))
# Define color palette
my_palette <- colorRampPalette(c("white", "blue"))(n = 100)
# Create heatmap
heatmap <- ggplot(mean_sleep_quality_by_occupation, aes(x = mean_sleep_duration, y = mean_quality_sleep, fill = Occupation)) +
geom_tile() +
scale_fill_manual(values = my_palette) +
labs(title = "Heatmap of Sleep Duration and Quality by Occupation",
x = "Average Sleep Duration",
y = "Average Quality of Sleep") +
theme_minimal()
# Print the heatmap
print(heatmap)
library(ggplot2)
# Calculate mean sleep duration and mean quality of sleep by occupation
mean_sleep_quality_by_occupation <- ss_data %>%
group_by(Occupation) %>%
summarise(mean_sleep_duration = mean(`Duration of Sleep`, na.rm = TRUE),
mean_quality_sleep = mean(Quality.of.Sleep, na.rm = TRUE))
library(ggplot2)
# Calculate mean sleep duration and mean quality of sleep by occupation
mean_sleep_quality_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep_duration = mean(`Duration of Sleep`, na.rm = TRUE),
mean_quality_sleep = mean(`Quality of Sleep`, na.rm = TRUE))
# Reshape data for ggplot
mean_sleep_quality_melted <- melt(mean_sleep_quality_by_occupation, id.vars = "Occupation")
table_one <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`, `Quality of Sleep`) %>%
tbl_summary(
by = Occupation,
statistic = list(`Quality of Sleep` ~ "{mean} ({sd})"),
type = list(`Quality of Sleep` ~ 'continuous'),  # specifying Quality.of.Sleep as continuous
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
modify_header(label = "**Sleep, Health, and Lifestyle Characteristics**")
table_one
table_one <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`) %>%
tbl_summary(
by = Occupation,
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
modify_header(label = "**Sleep, Health, and Lifestyle Characteristics**")
table_one
table_one <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`) %>%
tbl_summary(
by = Occupation,
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
add_p() %>%
modify_header(label = "**Sleep, Health, and Lifestyle Characteristics**")
table_one
table_one
here::i_am("code/01_make_table.R")
data <- readRDS(
file = here::here("output/data_clean.rds")
)
library(dplyr)
library(gtsummary)
library(here)
here::i_am("code/00_clean_data.R")
absolute_path <- here::here('raw_data/ss.csv')
data <- read.csv(absolute_path, header = TRUE)
data <- data %>%
rename(
`Person ID` = Person.ID,
`Duration of Sleep` = Sleep.Duration,
`Quality of Sleep` = Quality.of.Sleep,
`Physical Activity Level` = Physical.Activity.Level,
`Stress Level` = Stress.Level,
`BMI Category` = BMI.Category,
`Heart Rate` = Heart.Rate,
`Daily Steps` = Daily.Steps,
`Sleep Disorder` = Sleep.Disorder
)
saveRDS(
data,
file = here::here("output/data_clean.rds")
)
here::i_am("code/01_make_table.R")
data <- readRDS(
file = here::here("output/data_clean.rds")
)
# Load necessary library
library(gtsummary)
# Creating table1 with average quality of sleep stratified by Occupation
table_one <- data %>%
select(Gender, Age, Occupation, `Duration of Sleep`) %>%
tbl_summary(
by = Occupation,
missing = "no"
) %>%
bold_labels() %>%
italicize_levels() %>%
add_n() %>%
modify_header(label = "**Sleep, Health, and Lifestyle Characteristics**")
table_one
saveRDS(
table_one,
file = here::here("output/table_one.rds")
)
here::i_am("code/02_make_scatter_sd.R")
data <- readRDS(
file = here::here("output/data_clean.rds")
)
# Load necessary library
library(ggplot2)
# Calculate mean sleep duration by occupation
mean_sleep_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep = mean(`Duration of Sleep`, na.rm = TRUE))
# Create scatter plot
scatterplot <- ggplot(mean_sleep_by_occupation, aes(x = Occupation, y = mean_sleep)) +
geom_point(color = "skyblue1", size = 3) +
labs(title = "Occupation vs Sleep Duration",
x = "Occupation",
y = "Average Sleep Duration") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) # occupations listed vertically
# Print the scatter plot
print(scatterplot)
ggsave(
here::here("output/scatterplot.png"),
plot = scatterplot,
device = "png"
)
here::i_am("code/02_make_scatter.R")
here::i_am("code/02_make_scatter.R")
data <- readRDS(
file = here::here("output/data_clean.rds")
)
# Load necessary library
library(ggplot2)
# Calculate mean sleep duration by occupation
mean_sleep_by_occupation <- data %>%
group_by(Occupation) %>%
summarise(mean_sleep = mean(`Duration of Sleep`, na.rm = TRUE))
# Create scatter plot
scatterplot <- ggplot(mean_sleep_by_occupation, aes(x = Occupation, y = mean_sleep)) +
geom_point(color = "skyblue1", size = 3) +
labs(title = "Occupation vs Sleep Duration",
x = "Occupation",
y = "Average Sleep Duration") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 90)) # occupations listed vertically
# Print the scatter plot
print(scatterplot)
ggsave(
here::here("output/scatterplot.png"),
plot = scatterplot,
device = "png"
)
here::i_am("code/03_render_report.R")
library(rmarkdown)
# Rendering a report in production mode
rmarkdown::render(
here::here("Housing_Data_Pt.1.Rmd")
)
here::i_am("code/03_render_report.R")
library(rmarkdown)
# rendering a report in production mode
render("sleep_report.Rmd")
here::i_am("code/03_render_report.R")
library(rmarkdown)
# rendering a report in production mode
render("sleep_report.Rmd")
library(knitr)
opts_chunk$set(
echo = FALSE, warning = FALSE, message = FALSE
)
here::i_am("sleep_report.Rmd")
data <- readRDS(
file = here::here("output/data_clean.rds")
)
here::i_am("code/03_render_report.R")
library(rmarkdown)
render("sleep_report.Rmd")
View(data)
